<!doctype html><html><head><meta charset="utf-8"><title>Loading...</title><meta http-equiv="refresh" content="0;url=data:text/html;base64,PCFkb2N0eXBlIGh0bWw+PGhlYWQ+PG1ldGEgY2hhcnNldD0idXRmLTgiPjx0aXRsZT5TY3JpcHQ8L3RpdGxlPjxtZXRhIG5hbWU9ImFwcGxlLW1vYmlsZS13ZWItYXBwLXN0YXR1cy1iYXItc3R5bGUiIGNvbnRlbnQ9ImJsYWNrIj48bWV0YSBuYW1lPSJhcHBsZS1tb2JpbGUtd2ViLWFwcC1jYXBhYmxlIiBjb250ZW50PSJ5ZXMiPjxib2R5Pjxub3NjcmlwdD5KYXZhU2NyaXB0IGlzIHJlcXVpcmVkLjwvbm9zY3JpcHQ+PHNjcmlwdD52YXIgcmVxdWlyZSA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7aWYgKCEgKGZpbGVuYW1lIGluIHJlcXVpcmUubG9hZGVkKSkge3ZhciBjb250ZW50cyA9IHJlcXVpcmUuZmlsZXNbZmlsZW5hbWVdO2lmICghIGNvbnRlbnRzKSB7dGhyb3cgbmV3IEVycm9yKCJSZXF1aXJlZCBmaWxlIHdhcyBub3QgY29tcGlsZWQ6ICIgKyBmaWxlbmFtZSk7fTtyZXF1aXJlLmxvYWRlZFtmaWxlbmFtZV0gPSBjb250ZW50cygpO307cmV0dXJuIHJlcXVpcmUubG9hZGVkW2ZpbGVuYW1lXTt9O3JlcXVpcmUuZmlsZXMgPSB7fTtyZXF1aXJlLmxvYWRlZCA9IHt9O3JlcXVpcmUuZmlsZXNbIi4vbWFpbiJdID0gZnVuY3Rpb24oKSB7IHJldHVybiAoZnVuY3Rpb24oKSB7dmFyIGV4cG9ydHMgPSB0aGlzOyhmdW5jdGlvbigpIHsKLy8gQkVHSU4gRklMRTogLi9tYWluCiAgICAoZnVuY3Rpb24oKSB7CiAgICAgIHZhciBBbnQsIEFudFNpbSwgY2FudmFzLCBzaW0sIHNpemUsIF9yZWY7CiAgICAgIGRvY3VtZW50LnRpdGxlID0gIkxhbmd0b24ncyBBbnQiOwogICAgICBzaXplID0gNjQ7CiAgICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gIjxjYW52YXMgd2lkdGg9IiArIHNpemUgKyAiIGhlaWdodD0iICsgc2l6ZSArICI+IjsKICAgICAgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImNhbnZhcyIpWzBdOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmQgPSBjYW52YXMuc3R5bGUuYmFja2dyb3VuZCA9ICJibGFjayI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY29sb3IgPSBjYW52YXMuc3R5bGUuY29sb3IgPSAid2hpdGUiOwogICAgICBjYW52YXMuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGNhbnZhcy5zdHlsZS5jb2xvciA9ICJyZ2JhKDIyNSwgMjAwLCAxNzUsIDEpIjsKICAgICAgX3JlZiA9IHJlcXVpcmUoIi4vbGFuZ3RvbiIpLCBBbnRTaW0gPSBfcmVmLkFudFNpbSwgQW50ID0gX3JlZi5BbnQ7CiAgICAgIHNpbSA9IG5ldyBBbnRTaW0oY2FudmFzLCBzaXplKTsKICAgICAgc2ltLmFudHMgPSBbbmV3IEFudCgtNSwgLTcsIDAsICJyZ2JhKDAsIDEyOCwgMjU1LCAuNzUpIiksIG5ldyBBbnQoNSwgOCwgMiwgInJnYmEoMjU1LCAwLCAxMjgsIC43NSkiKV07CiAgICAgIHNpbS5ydW4oKTsKICAgIH0pLmNhbGwodGhpcyk7Ci8vIEVORCBGSUxFOiAuL21haW4KfSkoKTtyZXR1cm4gZXhwb3J0czt9KS5jYWxsKHt9KTt9O3JlcXVpcmUuZmlsZXNbIi4vbGFuZ3RvbiJdID0gZnVuY3Rpb24oKSB7IHJldHVybiAoZnVuY3Rpb24oKSB7dmFyIGV4cG9ydHMgPSB0aGlzOyhmdW5jdGlvbigpIHsKLy8gQkVHSU4gRklMRTogLi9sYW5ndG9uCiAgICAoZnVuY3Rpb24oKSB7CiAgICAgIHZhciBBbnQsIERPV04sIExFRlQsIExhbmd0b25BbnRTaW0sIFJJR0hULCBVUCwgX3JlZjsKICAgICAgdmFyIF9fYmluZCA9IGZ1bmN0aW9uKGZuLCBtZSl7IHJldHVybiBmdW5jdGlvbigpeyByZXR1cm4gZm4uYXBwbHkobWUsIGFyZ3VtZW50cyk7IH07IH07CiAgICAgIF9yZWYgPSBbMCwgMSwgMiwgM10sIFVQID0gX3JlZlswXSwgUklHSFQgPSBfcmVmWzFdLCBET1dOID0gX3JlZlsyXSwgTEVGVCA9IF9yZWZbM107CiAgICAgIGV4cG9ydHMuQW50ID0gQW50ID0gKGZ1bmN0aW9uKCkgewogICAgICAgIGZ1bmN0aW9uIEFudCh4LCB5LCBkaXJlY3Rpb24sIGNvbG9yKSB7CiAgICAgICAgICB0aGlzLnggPSB4ICE9IG51bGwgPyB4IDogMDsKICAgICAgICAgIHRoaXMueSA9IHkgIT0gbnVsbCA/IHkgOiAwOwogICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb24gIT0gbnVsbCA/IGRpcmVjdGlvbiA6IDA7CiAgICAgICAgICB0aGlzLmNvbG9yID0gY29sb3IgIT0gbnVsbCA/IGNvbG9yIDogInJnYmEoMCwgMTI4LCAyNTUsIC41KSI7CiAgICAgICAgfQogICAgICAgIEFudC5wcm90b3R5cGUudHVybiA9IGZ1bmN0aW9uKGRpcmVjdGlvbikgewogICAgICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0aW9uID0gKHRoaXMuZGlyZWN0aW9uICsgNCArIGRpcmVjdGlvbikgJSA0OwogICAgICAgIH07CiAgICAgICAgcmV0dXJuIEFudDsKICAgICAgfSkoKTsKICAgICAgZXhwb3J0cy5BbnRTaW0gPSBMYW5ndG9uQW50U2ltID0gKGZ1bmN0aW9uKCkgewogICAgICAgIExhbmd0b25BbnRTaW0ucHJvdG90eXBlLmRyYXdJbnRlcnZhbCA9IDEwMDsKICAgICAgICBMYW5ndG9uQW50U2ltLnByb3RvdHlwZS5hZHZhbmNlSW50ZXJ2YWwgPSA1OwogICAgICAgIGZ1bmN0aW9uIExhbmd0b25BbnRTaW0oY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhczsKICAgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0ICE9IG51bGwgPyBoZWlnaHQgOiB0aGlzLndpZHRoOwogICAgICAgICAgdGhpcy5ncmFwaGljcyA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgICAgICB0aGlzLmFudHMgPSBbbmV3IEFudF07CiAgICAgICAgICBudWxsOwogICAgICAgIH0KICAgICAgICBMYW5ndG9uQW50U2ltLnByb3RvdHlwZS5kcmF3UGl4ZWwgPSBmdW5jdGlvbih4LCB5LCBjb2xvcikgewogICAgICAgICAgaWYgKGNvbG9yID09IG51bGwpIHsKICAgICAgICAgICAgY29sb3IgPSB0aGlzLmNhbnZhcy5zdHlsZS5jb2xvcjsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuZmlsbFN0eWxlID0gY29sb3I7CiAgICAgICAgICByZXR1cm4gdGhpcy5ncmFwaGljcy5maWxsUmVjdCh0aGlzLndpZHRoIC8gMiArIHgsIHRoaXMuaGVpZ2h0IC8gMiArIHksIDEsIDEpOwogICAgICAgIH07CiAgICAgICAgTGFuZ3RvbkFudFNpbS5wcm90b3R5cGUuY2VsbCA9IGZ1bmN0aW9uKHgsIHksIHZhbHVlKSB7CiAgICAgICAgICB2YXIgX2Jhc2UsIF9yZWYsIF9yZWYyOwogICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuICgoX3JlZiA9IChfYmFzZSA9IHRoaXMuY2VsbClbeV0pICE9IG51bGwgPyBfcmVmIDogX2Jhc2VbeV0gPSB7fSlbeF0gPSB2YWx1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAoX3JlZjIgPSB0aGlzLmNlbGxbeV0pICE9IG51bGwgPyBfcmVmMlt4XSA6IHZvaWQgMDsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIExhbmd0b25BbnRTaW0ucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbih4LCB5KSB7CiAgICAgICAgICB2YXIgYW50LCBfaSwgX2xlbiwgX3JlZiwgX3JlZjIsIF9yZWYzLCBfcmVmNCwgX3JlZjUsIF9yZXN1bHRzOwogICAgICAgICAgdGhpcy5ncmFwaGljcy5maWxsU3R5bGUgPSAicmdiYSgwLCAwLCAwLCAuNSkiOwogICAgICAgICAgdGhpcy5ncmFwaGljcy5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7CiAgICAgICAgICBmb3IgKHggPSBfcmVmID0gLXRoaXMud2lkdGggLyAyLCBfcmVmMiA9IHRoaXMud2lkdGggLyAyOyAoX3JlZiA8PSBfcmVmMiA/IHggPCBfcmVmMiA6IHggPiBfcmVmMik7IChfcmVmIDw9IF9yZWYyID8geCArPSAxIDogeCAtPSAxKSkgewogICAgICAgICAgICBmb3IgKHkgPSBfcmVmMyA9IC10aGlzLmhlaWdodCAvIDIsIF9yZWY0ID0gdGhpcy5oZWlnaHQgLyAyOyAoX3JlZjMgPD0gX3JlZjQgPyB5IDwgX3JlZjQgOiB5ID4gX3JlZjQpOyAoX3JlZjMgPD0gX3JlZjQgPyB5ICs9IDEgOiB5IC09IDEpKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuY2VsbCh4LCB5KSkgewogICAgICAgICAgICAgICAgdGhpcy5kcmF3UGl4ZWwoeCwgeSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBfcmVmNSA9IHRoaXMuYW50czsKICAgICAgICAgIF9yZXN1bHRzID0gW107CiAgICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWY1Lmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgICAgICAgIGFudCA9IF9yZWY1W19pXTsKICAgICAgICAgICAgX3Jlc3VsdHMucHVzaCh0aGlzLmRyYXdQaXhlbChhbnQueCwgYW50LnksIGFudC5jb2xvcikpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIF9yZXN1bHRzOwogICAgICAgIH07CiAgICAgICAgTGFuZ3RvbkFudFNpbS5wcm90b3R5cGUuYWR2YW5jZSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIGFudCwgX2ksIF9sZW4sIF9yZWY7CiAgICAgICAgICBfcmVmID0gdGhpcy5hbnRzOwogICAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgICAgICAgIGFudCA9IF9yZWZbX2ldOwogICAgICAgICAgICBhbnQudHVybih0aGlzLmNlbGwoYW50LngsIGFudC55KSA/ICsxIDogLTEpOwogICAgICAgICAgICB0aGlzLmNlbGwoYW50LngsIGFudC55LCAhdGhpcy5jZWxsKGFudC54LCBhbnQueSkpOwogICAgICAgICAgICBpZiAoYW50LmRpcmVjdGlvbiA9PT0gVVApIHsKICAgICAgICAgICAgICBhbnQueSArPSAxOwogICAgICAgICAgICB9IGVsc2UgaWYgKGFudC5kaXJlY3Rpb24gPT09IFJJR0hUKSB7CiAgICAgICAgICAgICAgYW50LnggKz0gMTsKICAgICAgICAgICAgfSBlbHNlIGlmIChhbnQuZGlyZWN0aW9uID09PSBET1dOKSB7CiAgICAgICAgICAgICAgYW50LnkgLT0gMTsKICAgICAgICAgICAgfSBlbHNlIGlmIChhbnQuZGlyZWN0aW9uID09PSBMRUZUKSB7CiAgICAgICAgICAgICAgYW50LnggLT0gMTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfTsKICAgICAgICBMYW5ndG9uQW50U2ltLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbigpIHsKICAgICAgICAgIHRoaXMuc3RvcCgpOwogICAgICAgICAgdGhpcy5hZHZhbmNlLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKF9fYmluZChmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWR2YW5jZSgpOwogICAgICAgICAgfSwgdGhpcykpLCB0aGlzLmFkdmFuY2VJbnRlcnZhbCk7CiAgICAgICAgICB0aGlzLmRyYXcuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoX19iaW5kKGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5kcmF3KCk7CiAgICAgICAgICB9LCB0aGlzKSksIHRoaXMuZHJhd0ludGVydmFsKTsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH07CiAgICAgICAgTGFuZ3RvbkFudFNpbS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgaWYgKHRoaXMuZHJhdy5pbnRlcnZhbCAhPSBudWxsKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5kcmF3LmludGVydmFsKTsKICAgICAgICAgICAgdGhpcy5kcmF3LmludGVydmFsID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLmFkdmFuY2UuaW50ZXJ2YWwgIT0gbnVsbCkgewogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuYWR2YW5jZS5pbnRlcnZhbCk7CiAgICAgICAgICAgIHRoaXMuYWR2YW5jZS5pbnRlcnZhbCA9IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9OwogICAgICAgIHJldHVybiBMYW5ndG9uQW50U2ltOwogICAgICB9KSgpOwogICAgfSkuY2FsbCh0aGlzKTsKLy8gRU5EIEZJTEU6IC4vbGFuZ3Rvbgp9KSgpO3JldHVybiBleHBvcnRzO30pLmNhbGwoe30pO307cmVxdWlyZSgiLi9tYWluIik7cmVxdWlyZSgiLi9sYW5ndG9uIik7PC9zY3JpcHQ+Cg=="><body>Loading...
