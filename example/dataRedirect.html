<!doctype html><html><head><meta charset="utf-8"><title>Loading...</title><meta http-equiv="refresh" content="0;url=data:text/html;base64,PCFkb2N0eXBlIGh0bWw+PGhlYWQ+PG1ldGEgY2hhcnNldD0idXRmLTgiPjx0aXRsZT5TY3JpcHQ8L3RpdGxlPjxtZXRhIG5hbWU9ImFwcGxlLW1vYmlsZS13ZWItYXBwLXN0YXR1cy1iYXItc3R5bGUiIGNvbnRlbnQ9ImJsYWNrIj48bWV0YSBuYW1lPSJhcHBsZS1tb2JpbGUtd2ViLWFwcC1jYXBhYmxlIiBjb250ZW50PSJ5ZXMiPjxib2R5Pjxub3NjcmlwdD5KYXZhU2NyaXB0IGlzIHJlcXVpcmVkLjwvbm9zY3JpcHQ+PHNjcmlwdD52YXIgcmVxdWlyZSA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7aWYgKCEgKGZpbGVuYW1lIGluIHJlcXVpcmUubG9hZGVkKSkge3ZhciBjb250ZW50cyA9IHJlcXVpcmUuZmlsZXNbZmlsZW5hbWVdO2lmICghIGNvbnRlbnRzKSB7dGhyb3cgbmV3IEVycm9yKCJSZXF1aXJlZCBmaWxlIHdhcyBub3QgY29tcGlsZWQ6ICIgKyBmaWxlbmFtZSk7fTtyZXF1aXJlLmxvYWRlZFtmaWxlbmFtZV0gPSBjb250ZW50cygpO307cmV0dXJuIHJlcXVpcmUubG9hZGVkW2ZpbGVuYW1lXTt9O3JlcXVpcmUuZmlsZXMgPSB7fTtyZXF1aXJlLmxvYWRlZCA9IHt9O3JlcXVpcmUuZmlsZXNbIi4vbWFpbiJdID0gZnVuY3Rpb24oKSB7IHJldHVybiAoZnVuY3Rpb24oKSB7dmFyIGV4cG9ydHMgPSB0aGlzOyhmdW5jdGlvbigpIHsKLy8gQkVHSU4gRklMRTogLi9tYWluCiAgICAoZnVuY3Rpb24oKSB7CiAgICAgIHZhciBBbnRTaW0sIFR1cnRsZSwgY2FudmFzLCBzaW0sIHNpemUsIF9yZWY7CiAgICAgIGRvY3VtZW50LnRpdGxlID0gIkV4YW1wbGU6IExhbmd0b24ncyBBbnQiOwogICAgICBzaXplID0gNDg7CiAgICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gIjxjYW52YXMgd2lkdGg9IiArIHNpemUgKyAiIGhlaWdodD0iICsgc2l6ZSArICI+IjsKICAgICAgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImNhbnZhcyIpWzBdOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmQgPSBjYW52YXMuc3R5bGUuYmFja2dyb3VuZCA9ICJibGFjayI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY29sb3IgPSBjYW52YXMuc3R5bGUuY29sb3IgPSAid2hpdGUiOwogICAgICBjYW52YXMuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGNhbnZhcy5zdHlsZS5jb2xvciA9ICJyZ2JhKDIyNSwgMjAwLCAxNzUsIDEpIjsKICAgICAgX3JlZiA9IHJlcXVpcmUoIi4vbGFuZ3RvbiIpLCBBbnRTaW0gPSBfcmVmLkFudFNpbSwgVHVydGxlID0gX3JlZi5UdXJ0bGU7CiAgICAgIHNpbSA9IG5ldyBBbnRTaW0oY2FudmFzLCBzaXplKTsKICAgICAgc2ltLnR1cnRsZXMgPSBbbmV3IFR1cnRsZSgtNSwgLTcsIDApLCBuZXcgVHVydGxlKDUsIDgsIDIpXTsKICAgICAgc2ltLnJ1bigpOwogICAgfSkuY2FsbCh0aGlzKTsKLy8gRU5EIEZJTEU6IC4vbWFpbgp9KSgpO3JldHVybiBleHBvcnRzO30pLmNhbGwoe30pO307cmVxdWlyZS5maWxlc1siLi9sYW5ndG9uIl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIChmdW5jdGlvbigpIHt2YXIgZXhwb3J0cyA9IHRoaXM7KGZ1bmN0aW9uKCkgewovLyBCRUdJTiBGSUxFOiAuL2xhbmd0b24KICAgIChmdW5jdGlvbigpIHsKICAgICAgdmFyIERPV04sIExFRlQsIExhbmd0b25BbnRTaW0sIFJJR0hULCBUdXJ0bGUsIFVQLCBfcmVmOwogICAgICB2YXIgX19iaW5kID0gZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfTsKICAgICAgX3JlZiA9IFswLCAxLCAyLCAzXSwgVVAgPSBfcmVmWzBdLCBSSUdIVCA9IF9yZWZbMV0sIERPV04gPSBfcmVmWzJdLCBMRUZUID0gX3JlZlszXTsKICAgICAgZXhwb3J0cy5UdXJ0bGUgPSBUdXJ0bGUgPSAoZnVuY3Rpb24oKSB7CiAgICAgICAgZnVuY3Rpb24gVHVydGxlKHgsIHksIGRpcmVjdGlvbikgewogICAgICAgICAgdGhpcy54ID0geCAhPSBudWxsID8geCA6IDA7CiAgICAgICAgICB0aGlzLnkgPSB5ICE9IG51bGwgPyB5IDogMDsKICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uICE9IG51bGwgPyBkaXJlY3Rpb24gOiAwOwogICAgICAgIH0KICAgICAgICBUdXJ0bGUucHJvdG90eXBlLnR1cm4gPSBmdW5jdGlvbihkaXJlY3Rpb24pIHsKICAgICAgICAgIHJldHVybiB0aGlzLmRpcmVjdGlvbiA9ICh0aGlzLmRpcmVjdGlvbiArIDQgKyBkaXJlY3Rpb24pICUgNDsKICAgICAgICB9OwogICAgICAgIHJldHVybiBUdXJ0bGU7CiAgICAgIH0pKCk7CiAgICAgIGV4cG9ydHMuQW50U2ltID0gTGFuZ3RvbkFudFNpbSA9IChmdW5jdGlvbigpIHsKICAgICAgICBMYW5ndG9uQW50U2ltLnByb3RvdHlwZS5kcmF3SW50ZXJ2YWwgPSAxMDA7CiAgICAgICAgTGFuZ3RvbkFudFNpbS5wcm90b3R5cGUuYWR2YW5jZUludGVydmFsID0gNTsKICAgICAgICBmdW5jdGlvbiBMYW5ndG9uQW50U2ltKGNhbnZhcywgd2lkdGgsIGhlaWdodCkgewogICAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7CiAgICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CiAgICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCAhPSBudWxsID8gaGVpZ2h0IDogdGhpcy53aWR0aDsKICAgICAgICAgIHRoaXMuZ3JhcGhpY3MgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICAgICAgdGhpcy50dXJ0bGVzID0gW25ldyBUdXJ0bGVdOwogICAgICAgICAgbnVsbDsKICAgICAgICB9CiAgICAgICAgTGFuZ3RvbkFudFNpbS5wcm90b3R5cGUuZHJhd1BpeGVsID0gZnVuY3Rpb24oeCwgeSwgY29sb3IpIHsKICAgICAgICAgIGlmIChjb2xvciA9PSBudWxsKSB7CiAgICAgICAgICAgIGNvbG9yID0gdGhpcy5jYW52YXMuc3R5bGUuY29sb3I7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmdyYXBoaWNzLmZpbGxTdHlsZSA9IGNvbG9yOwogICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhpY3MuZmlsbFJlY3QodGhpcy53aWR0aCAvIDIgKyB4LCB0aGlzLmhlaWdodCAvIDIgKyB5LCAxLCAxKTsKICAgICAgICB9OwogICAgICAgIExhbmd0b25BbnRTaW0ucHJvdG90eXBlLmNlbGwgPSBmdW5jdGlvbih4LCB5LCB2YWx1ZSkgewogICAgICAgICAgdmFyIF9iYXNlLCBfcmVmLCBfcmVmMjsKICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgICAgIHJldHVybiAoKF9yZWYgPSAoX2Jhc2UgPSB0aGlzLmNlbGwpW3ldKSAhPSBudWxsID8gX3JlZiA6IF9iYXNlW3ldID0ge30pW3hdID0gdmFsdWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gKF9yZWYyID0gdGhpcy5jZWxsW3ldKSAhPSBudWxsID8gX3JlZjJbeF0gOiB2b2lkIDA7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBMYW5ndG9uQW50U2ltLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oeCwgeSkgewogICAgICAgICAgdmFyIHR1cnRsZSwgX2ksIF9sZW4sIF9yZWYsIF9yZWYyLCBfcmVmMywgX3JlZjQsIF9yZWY1LCBfcmVzdWx0czsKICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuZmlsbFN0eWxlID0gInJnYmEoMCwgMCwgMCwgLjUpIjsKICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOwogICAgICAgICAgZm9yICh4ID0gX3JlZiA9IC10aGlzLndpZHRoIC8gMiwgX3JlZjIgPSB0aGlzLndpZHRoIC8gMjsgKF9yZWYgPD0gX3JlZjIgPyB4IDwgX3JlZjIgOiB4ID4gX3JlZjIpOyAoX3JlZiA8PSBfcmVmMiA/IHggKz0gMSA6IHggLT0gMSkpIHsKICAgICAgICAgICAgZm9yICh5ID0gX3JlZjMgPSAtdGhpcy5oZWlnaHQgLyAyLCBfcmVmNCA9IHRoaXMuaGVpZ2h0IC8gMjsgKF9yZWYzIDw9IF9yZWY0ID8geSA8IF9yZWY0IDogeSA+IF9yZWY0KTsgKF9yZWYzIDw9IF9yZWY0ID8geSArPSAxIDogeSAtPSAxKSkgewogICAgICAgICAgICAgIGlmICh0aGlzLmNlbGwoeCwgeSkpIHsKICAgICAgICAgICAgICAgIHRoaXMuZHJhd1BpeGVsKHgsIHkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgX3JlZjUgPSB0aGlzLnR1cnRsZXM7CiAgICAgICAgICBfcmVzdWx0cyA9IFtdOwogICAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmNS5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICAgICAgICB0dXJ0bGUgPSBfcmVmNVtfaV07CiAgICAgICAgICAgIHRoaXMuZHJhd1BpeGVsKHR1cnRsZS54LCB0dXJ0bGUueSwgInJnYmEoMCwgMTI4LCAyNTUsIC41KSIpOwogICAgICAgICAgICBfcmVzdWx0cy5wdXNoKHR1cnRsZS5kaXJlY3Rpb24gPT09IFVQID8gdGhpcy5kcmF3UGl4ZWwodHVydGxlLngsIHR1cnRsZS55ICsgMSwgInJnYmEoMCwgMTI4LCAyNTUsIC4yNSkiKSA6IHR1cnRsZS5kaXJlY3Rpb24gPT09IFJJR0hUID8gdGhpcy5kcmF3UGl4ZWwodHVydGxlLnggKyAxLCB0dXJ0bGUueSwgInJnYmEoMCwgMTI4LCAyNTUsIC4yNSkiKSA6IHR1cnRsZS5kaXJlY3Rpb24gPT09IERPV04gPyB0aGlzLmRyYXdQaXhlbCh0dXJ0bGUueCwgdHVydGxlLnkgLSAxLCAicmdiYSgwLCAxMjgsIDI1NSwgLjI1KSIpIDogdHVydGxlLmRpcmVjdGlvbiA9PT0gTEVGVCA/IHRoaXMuZHJhd1BpeGVsKHR1cnRsZS54IC0gMSwgdHVydGxlLnksICJyZ2JhKDAsIDEyOCwgMjU1LCAuMjUpIikgOiB2b2lkIDApOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIF9yZXN1bHRzOwogICAgICAgIH07CiAgICAgICAgTGFuZ3RvbkFudFNpbS5wcm90b3R5cGUuYWR2YW5jZSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIHR1cnRsZSwgX2ksIF9sZW4sIF9yZWY7CiAgICAgICAgICBfcmVmID0gdGhpcy50dXJ0bGVzOwogICAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgICAgICAgIHR1cnRsZSA9IF9yZWZbX2ldOwogICAgICAgICAgICB0dXJ0bGUudHVybih0aGlzLmNlbGwodHVydGxlLngsIHR1cnRsZS55KSA/ICsxIDogLTEpOwogICAgICAgICAgICB0aGlzLmNlbGwodHVydGxlLngsIHR1cnRsZS55LCAhdGhpcy5jZWxsKHR1cnRsZS54LCB0dXJ0bGUueSkpOwogICAgICAgICAgICBpZiAodHVydGxlLmRpcmVjdGlvbiA9PT0gVVApIHsKICAgICAgICAgICAgICB0dXJ0bGUueSArPSAxOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR1cnRsZS5kaXJlY3Rpb24gPT09IFJJR0hUKSB7CiAgICAgICAgICAgICAgdHVydGxlLnggKz0gMTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0dXJ0bGUuZGlyZWN0aW9uID09PSBET1dOKSB7CiAgICAgICAgICAgICAgdHVydGxlLnkgLT0gMTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0dXJ0bGUuZGlyZWN0aW9uID09PSBMRUZUKSB7CiAgICAgICAgICAgICAgdHVydGxlLnggLT0gMTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfTsKICAgICAgICBMYW5ndG9uQW50U2ltLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbigpIHsKICAgICAgICAgIHRoaXMuc3RvcCgpOwogICAgICAgICAgdGhpcy5hZHZhbmNlLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKF9fYmluZChmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWR2YW5jZSgpOwogICAgICAgICAgfSwgdGhpcykpLCB0aGlzLmFkdmFuY2VJbnRlcnZhbCk7CiAgICAgICAgICB0aGlzLmRyYXcuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoX19iaW5kKGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5kcmF3KCk7CiAgICAgICAgICB9LCB0aGlzKSksIHRoaXMuZHJhd0ludGVydmFsKTsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH07CiAgICAgICAgTGFuZ3RvbkFudFNpbS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgaWYgKHRoaXMuZHJhdy5pbnRlcnZhbCAhPSBudWxsKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5kcmF3LmludGVydmFsKTsKICAgICAgICAgICAgdGhpcy5kcmF3LmludGVydmFsID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLmFkdmFuY2UuaW50ZXJ2YWwgIT0gbnVsbCkgewogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuYWR2YW5jZS5pbnRlcnZhbCk7CiAgICAgICAgICAgIHRoaXMuYWR2YW5jZS5pbnRlcnZhbCA9IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9OwogICAgICAgIHJldHVybiBMYW5ndG9uQW50U2ltOwogICAgICB9KSgpOwogICAgfSkuY2FsbCh0aGlzKTsKLy8gRU5EIEZJTEU6IC4vbGFuZ3Rvbgp9KSgpO3JldHVybiBleHBvcnRzO30pLmNhbGwoe30pO307cmVxdWlyZSgiLi9tYWluIik7cmVxdWlyZSgiLi9sYW5ndG9uIik7PC9zY3JpcHQ+Cg=="><body>Loading...
